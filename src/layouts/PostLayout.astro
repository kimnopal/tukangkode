---
import Heading from "../components/Heading.astro";
import SocialLinks from "../components/SocialLinks.astro";
import BaseLayout from "./BaseLayout.astro";

const { frontmatter } = Astro.props;
---

<BaseLayout title={frontmatter.title}>
  <a
    href="/"
    class="inline-flex items-center gap-2 transition mt-0 mb-10 text-muted-foreground hover:text-foreground underline"
  >
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M15 19l-7-7 7-7"></path>
    </svg>
    Daftar Tulisan ✍</a
  >

  <article class="rounded-[var(--radius)]">
    <!-- Post Meta -->
    <div class="mb-8">
      <div
        class="flex items-center gap-4 mb-6 text-muted-foreground text-sm flex-wrap"
      >
        <span class="flex items-center gap-2">
          📅 {frontmatter.publishedDate}
        </span>

        <span class="flex items-center gap-2">
          ⏱️ {frontmatter.readingTime} min read
        </span>

        <!-- Categories -->
        <div class="flex gap-2 flex-wrap">
          <span
            class="bg-muted text-muted-foreground px-3 py-1 rounded-full text-xs font-medium"
          >
            {frontmatter.category}
          </span>
        </div>
      </div>

      <Heading level={1}>
        {frontmatter.title}
      </Heading>

      <!-- Post Description -->
      <p class="text-lg md:text-xl text-muted-foreground leading-relaxed">
        {frontmatter.description}
      </p>
    </div>

    <!-- Featured Image -->
    <div class="mb-8 mt-8">
      <img
        src={frontmatter.thumbnail}
        alt=""
        class="w-full rounded-[0.65rem] shadow-lg"
      />
    </div>

    <!-- Post Content -->
    <div
      class="max-w-none prose prose-p:text-muted-foreground prose-headings:text-foreground prose-code:text-primary prose-li:text-muted-foreground prose-strong:text-muted-foreground prose-pre:rounded-[0.65rem] text-foreground leading-relaxed space-y-6"
    >
      <slot />
    </div>

    <!-- Post Footer -->
    <div class="mt-12 pt-10 border-t border-border">
      <div class="mb-6">
        <h4 class="text-lg text-center font-medium text-muted-foreground mb-3">
          Terimakasih sudah membaca! 😃
        </h4>
      </div>

      <div class="flex justify-center">
        <SocialLinks />
      </div>
    </div>
  </article>
</BaseLayout>
