---
import Heading from "../components/Heading.astro";
import SocialLinks from "../components/SocialLinks.astro";
import BaseLayout from "./BaseLayout.astro";

const { frontmatter } = Astro.props;
---

<BaseLayout title={frontmatter.title}>
  <a
    href="/"
    class="text-muted-foreground hover:text-foreground mt-0 mb-10 inline-flex items-center gap-2 underline transition"
  >
    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M15 19l-7-7 7-7"></path>
    </svg>
    Daftar Tulisan ✍</a
  >

  <article class="rounded-[var(--radius)]">
    <!-- Post Meta -->
    <div class="mb-8">
      <div
        class="text-muted-foreground mb-6 flex flex-wrap items-center gap-4 text-sm"
      >
        <span class="flex items-center gap-2">
          📅 {frontmatter.publishedDate}
        </span>

        <span class="flex items-center gap-2">
          ⏱️ {frontmatter.readingTime} min read
        </span>

        <!-- Categories -->
        <div class="flex flex-wrap gap-2">
          <span
            class="bg-muted text-muted-foreground rounded-full px-3 py-1 text-xs font-medium"
          >
            {frontmatter.category}
          </span>
        </div>
      </div>

      <Heading level={1}>
        {frontmatter.title}
      </Heading>

      <!-- Post Description -->
      <p class="text-muted-foreground text-lg leading-relaxed md:text-xl">
        {frontmatter.description}
      </p>
    </div>

    <!-- Featured Image -->
    <div class="mt-8 mb-8">
      <img
        src={frontmatter.thumbnail}
        alt=""
        class="w-full rounded-[0.65rem] shadow-lg"
      />
    </div>

    <!-- Post Content -->
    <div
      class="prose prose-p:text-muted-foreground prose-headings:text-foreground prose-code:text-primary prose-li:text-muted-foreground prose-strong:text-muted-foreground prose-pre:rounded-[0.65rem] text-foreground max-w-none space-y-6 leading-relaxed"
    >
      <slot />
    </div>

    <!-- Post Footer -->
    <div class="border-border mt-12 border-t pt-10">
      <div class="mb-6">
        <h4 class="text-muted-foreground mb-3 text-center text-lg font-medium">
          Terimakasih sudah membaca! 😃
        </h4>
      </div>

      <div class="flex justify-center">
        <SocialLinks />
      </div>
    </div>
  </article>
</BaseLayout>
